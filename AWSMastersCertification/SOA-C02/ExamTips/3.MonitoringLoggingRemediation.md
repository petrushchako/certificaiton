# Exam TIPS<br>Monitoring, Logging and Remediation

<br>

## CloudWatch

- **CloudWatch** is all about monitoring the performance adn health of your systems.
- **Default host-level metrics**:
  - CPU
  - Network
  - Disk
  - Status check
  
    > Any other metric outside following list will require installation of `CloudWatch Agent`
- Use the **CloudWatch agent** for operating system-level metrics:
  - Memory usage
  - Processes
  - CPU idle time


## CloudWatch Dashboard
- **A CUSTOM VIEW**<br>Create a dashboard which monitors the metrics that are meaningful to you, e.g. all your production systems.
- **MULTI-REGION**<br>Display metrics for any region. Change the region and add the widget you want.
- **REMEMBER TO SAVE**<br>CloudWatch doesn't automatically save your dashboard, so remember to save it once you have configured it.


<br>

## CloudWatch Logs

1. **Log Events:**
   - Consist of an event message and a timestamp.
   - Example: Log events coming from an Apache log.

2. **Log Stream:**
   - A sequence of log events from the same source.
   - Example: An Apache log coming from a specific EC2 instance.

3. **Log Group:**
   - A collection of log streams.
   - Log groups allow centralized management of retention, monitoring, and access control settings.
   - Example: Multiple web servers running Apache and sending log events into CloudWatch can be managed as a single log group.

4. **Retention Settings:**
   - CloudWatch Logs are kept indefinitely by default but can be customized between 1 day and 10 years.
   - Retention settings are applied at the log group level.


<br>

## CloudWatch Notifications
### Alarms
- **Cloud Watch Alarms**<br>You can create an alarm to monitor any Cloud Watch metric in your account and alert you if a threshold is reached.
- **Use Case**<br>An alarm that is triggered if CPU utilization exceeds 90% on your EC2 instance for more than 5 minutes.
- **Integrated with SN**S<br>Send an SNS notification which can send an email to your support team.
  
<br>

### Service Quotas
- **Monitor Service Quotas**<br>CloudWatch can be used to monitor your service quotas / limits and notify you if you are about to reach the limit.
- **SNS Notification**<br>An SNS notification can be used to email your IT support team.
- **Use Case**<br>You have reached 90% of the quota value for on-demand EC2 instances.
- **Alerts**<br>CloudWatch Alarms can alert you in the dashboard.

<br>

### Health Events
- **AWS Health**<br>Provides information about changes in the health of AWS resources.
- **EventBridge**<br>Can send health events to EventBridge (was CloudWatch Events).
- **CloudWatch Alarm**<br>Triggering a CloudWatch Alarm.
- **Trigger an Action**<br>Send an SNS notification, send a message to SQS, or trigger a Lambda function.
  
  > The API used by Personal Health Dashboard

<br>

### CloudWatch Metric Filter
- For the exam, it is important that you understand how to configure metric filters.
- **Metric filter**<br>Filter for specific phrases in your logs, e.g. warnings, errors, or HTTP status codes.
- **Log Group**<br>Configure metric filter for any log group
- Use case<br>Receive CloudWatch alerts for specific errors, warnings, or messages in your log files.

<br>

### CloudWatch Logs Insights
- **Query and Analyze**<br>We can use CloudWatch Logs Insights to interactively query and analyze data stored in CloudWatch Logs.
- **Visualization**<br>Query the logs directly and also generate visualizations, e.g. bar graph, line graph, pie chart, etc.
- Example**<br>Display the 25 most recent added log events.<br>Search VPC flow logs to find out which IP addresses are using specific protocol.<br>Find the most expensive Lambda request
