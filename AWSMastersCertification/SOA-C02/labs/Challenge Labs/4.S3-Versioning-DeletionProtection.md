# Configuring S3 Buckets for Versioning and Deletion Protection

<br>

![](../../img/ChallengeLab-4.png)

<br>

### ABOUT THIS LAB
In this lab, students will work with Amazon Simple Storage Service (S3) to configure two S3 buckets with encryption, versioning, lifecycle rules, and deletion protection.

<br>

### Objectives
- Configure Two S3 Buckets
- Configure Protection for Accidental Deletion of Data for Both Buckets
- Configure KMS Encryption for the labdata Bucket
- Configure Lifecycle Configuration for Both Buckets

<br>

## Solution
## Configure an S3 Buckets
1. Navigate to `S3` using the Services menu or the unified search bar.
2. On the right, click `Create bucket`.
3. In the Bucket name field, enter a globally unique name that begins with labdata and ends in a string of random characters (e.g., **labdata12345**).
4. Leave all other default settings and click `Create bucket` at the bottom of the page.<br>The bucket is created.

<br>

## Configure Protection for Accidental Deletion of Data for the Bucket
1. From the `Buckets` page, select your labdata bucket name.
2. Select the `Properties` tab.<br>Note that bucket versioning is currently disabled.
3. In the `Bucket Versioning` section, click `Edit`.
4. Select `Enable`.
5. Click `Save changes`.<br>Versioning and deletion protection are now enabled on the bucket.

<br>

## Configure KMS Encryption for the `labdata` Bucket

### Create a KMS Encryption Key
1. In the search bar on top, enter `kms`.
2. From the search results, select `Key Management Service` and open it in a new browser tab.

You may need to exit out of some AccessDenied requests on top of the page.
3. Click `Create key` on the right.
4. On the **Configure key** page, leave the default settings and click `Next`.
5. On the **Add labels** page, enter `labkms` in the Alias field and click `Next`.
6. On the **Key administrators** page, select `cloud_user` and click `Next`.
7. On the **Permissions** page, select cloud_user again and click `Next`.
8. Review your key details and then click `Finish`.
