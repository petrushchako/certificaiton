# Creating a Basic VPC and Associated Components in AWS

### About this lab
AWS networking consists of multiple components, and understanding the relationship between the networking components is a key part of understanding the overall functionality and capabilities of AWS. In this hands-on lab, we will create a VPC with an internet gateway, as well as create subnets across multiple Availability Zones.

<br>

![](../img/7.1.LabDiagram.png)

<br>

### Objectives
1. Create a VPC
2. Create a Public and Private Subnet in Different Availability Zones
3. Create Two Network Access Control Lists (NACLs), and Associate Each with the Proper Subnet
4. Create an Internet Gateway, and Attach It to the VPC
5. Create Two Route Tables, and Associate Them with the Correct Subnet

<br><br><br>

## Solution
## **Create a VPC**
1. Navigate to **VPC**.
2. Click `Create VPC`.
3. For **Resources to create**, select `VPC only`.
4. Configure the VPC settings:
    - Name tag: In the text field, enter `VPC1`.
    - IPv4 CIDR: In the text field, enter `172.16.0.0/16`.
5. Leave the other settings as the defaults and click `Create VPC`.<br>
The VPC is created but does not have an internet gateway, subnets, or any other functionality.

<br>


## **Create an Internet Gateway, and Attach It to the VPC**
1. In the sidebar menu, navigate to **Virtual private cloud** and select `Internet gateways`.
2. On the right, click `Create internet gateway`.
3. In the Name tag field, enter `IGW`.
4. Click `Create internet gateway`.
5. After the internet gateway is created, use the **Actions dropdown** to select `Attach to VPC`.
6. In the **Available VPCs** field, select `VPC1`.
7. Click `Attach internet gateway`.<br>Your internet gateway should now be in an Attached state.

<br>

## **Create a Public and Private Subnet in Different Availability Zones**
1. In the sidebar menu, select `Subnets`.
2. On the right, click `Create subnet`.
3. Configure the public subnet:
    - VPC ID: Use the dropdown to select `VPC1`.
    - Subnet name: In the text field, enter `Public1`.
    - Availability Zone: Use the dropdown to select `us-east-1a`.
    - IPv4 CIDR block: In the field, select `172.16.1.0/24`. Any EC2 instances assigned to this subnet will have an IP address prefix of 172.16.1.
4. Click `Create subnet`.<br>The public subnet is created.
5. On the right, click `Create subnet` again.
6. Configure the private subnet:
    - VPC ID: Use the dropdown to select `VPC1`.
    - Subnet name: In the text field, enter `Private1`.
    - Availability Zone: Use the dropdown to select `us-east-1b`.
    - IPv4 CIDR block: In the field, enter `172.16.2.0/24`.
7. Click Create subnet.<br>The private subnet is created.

<br>

## **Create Two Route Tables, and Associate Them with the Correct Subnet**
### Create the Route Tables
1. In the sidebar menu, select `Route tables`.<br>You should see a default route table available. However, you will not use this route table.
2. On the right, click `Create route table`.
3. Configure the public route table:
    - Name: In the text field, enter `PublicRT`.
    - VPC: Use the dropdown to select `VPC1`.
4. Click `Create route table`.
5. In the sidebar menu, select **Route tables** again.
6. On the right, click `Create route table`.
7. Configure the private route table:
    - Name: In the text field, enter `PrivateRT`.
    - VPC: Use the dropdown to select `VPC1`.
8. Click `Create route table`.

<br>
