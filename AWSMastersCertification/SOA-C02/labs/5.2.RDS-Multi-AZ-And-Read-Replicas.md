# Deploy an Amazon RDS Multi-AZ and Read Replica in AWS

![](../img/5.2.LabDiagram.png)

<br>

### ABOUT THIS LAB
In this hands-on lab, we will work with Relational Database Service (RDS). This lab will give you hands-on experience with enabling Multi-AZ and backups, creating a read replica, promoting a read replica, and updating the RDS endpoint in Route 53. Multi-AZ and read replicas serve different purposes with RDS. Multi-AZ is strictly for failover, as the standby instances cannot be read from by an application. Read replicas are used for improved performance and migrations. With read replicas, you can write to the primary database and read from the read replica. Since a read replica can be promoted to be the primary database, it makes for a great tool in disaster recovery and migrations.

<br>

### LEARNING OBJECTIVES
1. **Enable Multi-AZ Deployment**<br>Enable Multi-AZ deployment on the primary RDS database.
2. **Create a Read Replica**<br>Create a read replica of the RDS database named `wordpress-rr`.
3. **Promote the Read Replica and Change the CNAME Records Set in Route 53 to the New Endpoint**<br>Promote the read replica to be the primary database. In addition, you need to alter the CNAME DNS record set in Route 53 to now point to the new primary database's endpoint.

<br>

## Solution
## Enable Multi-AZ Deployment
### Configure Your Multi-AZ Instance
1. From the `EC2` service page, scroll down to `Load Balancing` and select `Load Balancers`.
2. Select the load balancer and then copy the DNS name of the load balancer.
3. Open a new browser tab, and paste your copied DNS name.<br>You will use this web page to test failovers and promotions in this lab.
4. Go back to the **AWS Management Console**, and navigate to `RDS`.
5. In the **Amazon RDS** sidebar menu, select `Databases`.
6. Select the radio button to the left of your **wordpress** database details.
7. Along the top of the page, click `Modify`.<br>The database's configuration options may take a moment to load.
8. **Enable Multi-AZ deployment**:
    - In the `Availability & durability` section, select `Create a standby instance (recommended for production usage)`.
    - Scroll to the bottom of the page, and click `Continue`.
    - In the **Schedule modifications** section, select `Apply immediately`.
    - Click `Modify DB instance`.
9. After a few moments, click **Refresh**.<br>You should see the **Status** change to **Modifying**. If you don't see this change, you may need to click Refresh again. The instance may take up to 10 minutes to enable Multi-AZ.

