# Demo:<br>Route 53 Failover Routing Policy

<br>

![](../img/demo/7.7.Route53-FailoverRouting.png)

<br>

### Objectives
- **Launch Two EC2 Instances**<br>Install `httpd`
- **Configure a Route 53 Health Check**<br>This will enable Route 53 to check that the website is reachable on our primary instance
- **Configure Failover Based Routing**<br>Create an A record using a failover routing policy

## Solution
### Lesson: Configuring Route 53 with a Failover Routing Policy

---

#### Objectives
In this lesson, we will:
1. Launch two EC2 instances and configure them as web servers.
2. Set up a Route 53 failover routing policy.
3. Test the configuration to ensure proper failover between instances.

---

### Launch Two EC2 Instances
1. Log in to the AWS Management Console.
2. Navigate to **EC2** and click **Launch Instance**.

#### Configure the First Instance (WS1):
- **Name**: `WS1`
- **AMI**: Amazon Linux 2
- **Instance Type**: `t3.micro`
- **Key Pair**: Proceed without a key pair
- **Network Settings**:
  - Create a new security group named `Web DMZ`.
  - Allow **HTTP (port 80)** and remove the default SSH rule.
- Scroll down to **Advanced Details** and locate the **User Data** section.
- Copy and paste the following bootstrap script:

```bash
#!/bin/bash
yum update -y
yum install -y httpd
echo "Hello from WS1" > /var/www/html/index.html
systemctl start httpd
systemctl enable httpd
```

- Click **Launch Instance**.

#### Configure the Second Instance (WS2):
- **Name**: `WS2`
- **AMI**: Amazon Linux 2
- **Instance Type**: `t3.micro`
- **Key Pair**: Proceed without a key pair
- **Network Settings**:
  - Use the existing `Web DMZ` security group.
- Scroll down to **Advanced Details** and locate the **User Data** section.
- Copy and paste the following bootstrap script:

```bash
#!/bin/bash
yum update -y
yum install -y httpd
echo "Hello from WS2" > /var/www/html/index.html
systemctl start httpd
systemctl enable httpd
```

- Click **Launch Instance**.
