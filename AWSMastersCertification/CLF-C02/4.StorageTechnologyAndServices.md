# Storage Technology and Services

- [Storage Technology and Services](#storage-technology-and-services)
  - [Exploring Amazon EC2 Storage](#exploring-amazon-ec2-storage)
    - [What is EC2?](#what-is-ec2)
    - [Elastic Block Storage (EBS)](#elastic-block-storage-ebs)
      - [Key Features](#key-features)
      - [EBS Use Cases](#ebs-use-cases)
    - [Elastic File System (EFS)](#elastic-file-system-efs)
      - [Key Features](#key-features-1)
      - [EFS Use Cases](#efs-use-cases)
    - [Instance Stores](#instance-stores)
      - [Key Features](#key-features-2)
      - [Instance Stores Use Cases](#instance-stores-use-cases)
  - [Amazon Simple Storage Service (S3): The Bigger Picture](#amazon-simple-storage-service-s3-the-bigger-picture)
    - [Amazon S3 (Simple Storage Service) Overview](#amazon-s3-simple-storage-service-overview)
      - [Key Features of Amazon S3](#key-features-of-amazon-s3)
      - [Common Use Cases](#common-use-cases)
      - [How to Get Started with S3](#how-to-get-started-with-s3)
    - [Summary](#summary)
  - [Introducing Additional Storage Services](#introducing-additional-storage-services)
    - [Amazon FSx for Windows File Server](#amazon-fsx-for-windows-file-server)
    - [Amazon FSx for Lustre](#amazon-fsx-for-lustre)
    - [Use Cases](#use-cases)
    - [Getting Started](#getting-started)
    - [Summary](#summary-1)


## Exploring Amazon EC2 Storage

### What is EC2?

Before we dive into storage, let's revisit EC2 quickly.
- EC2 stands for Elastic Compute Cloud.
- Imagine that every application we build is like creating a customized pizza. We'll look at EC2 like a main kitchen where we make the pizza. The size of the kitchen, the number of chefs, and the tools determine how fast we can make pizzas and how many at a time.
  
  
EC2 offers various storage options to cater to diverse needs.
Let's explore these.

### Elastic Block Storage (EBS)
EBS provides persistent block storage volumes for EC2 instances.

#### Key Features
- **Persistence**
    - EBS volumes persist independently from the running life of an EC2 instance. This means that if you stop or terminate an instance, the EBS volume remains and can be re-attached to another instance.
- **Types of EBS Volumes**
    - General Purpose SSD (gp3, gp2): Suitable for a broad range of workloads, including boot volumes and development environments.
    - Provisioned IOPS SSD (io2, io1): Designed for mission-critical applications that require high performance, such as databases.
    - Throughput Optimized HDD (st1): Ideal for large, sequential workloads such as big data and data warehouses.
    - Cold HDD (sc1): Suitable for less frequently accessed data, providing low-cost storage.
- **Snapshots**
    - EBS supports point-in-time snapshots of volumes, which are stored in Amazon S3. These snapshots can be used to create new EBS volumes, enabling easy backup and recovery.
- **Elasticity**
    - You can dynamically increase capacity, tune performance, and change the type of EBS volume on-the-fly without disrupting your applications.

#### EBS Use Cases
- Hosting relational or NoSQL databases
- Data warehousing and big data analytics
- ERP and CRM applications

<br>

### Elastic File System (EFS)
Amazon Elastic File System (EFS) is a scalable file storage service for use with AWS Cloud services and on-premises resources. It is not typically used as a default storage for EC2 instances at creation but is available for creating shared file systems that can be mounted by multiple EC2 instances.

#### Key Features
- Fully Managed
  - Removes the complexity of deploying and maintaining file systems
- Automatic Scailing
  - Automatically scales on demand without disrupting applications
- Concurrent Access
  - Multiple EC2 instances can access an EFS simultaneously.

#### EFS Use Cases
EFS is perfect for applications with growing storage needs
- Content management and serb serving
- Data analytics applications
- Deployment and testing environments

<br>

### Instance Stores
- These offer temporary block level storage directly attached to the EC2 instance.
- Unlike EBS, the storage is ephemeral, and it's ideal for temporary data.
- Instance stores are like a temporary prep table, you prepare your ingredients, or data, here, but if you shut down the kitchen or terminate the instance, the prep is gone.

#### Key Features
- **Ephemeral**
    - Data on instance store volumes is lost if the instance is stopped, terminated, or fails. This makes it suitable only for temporary data that can be recreated or is replicated elsewhere.
- **Performance**
    - Instance store volumes can provide very high I/O performance, often used for caching, temporary data, and buffers.
- **Non-persistent**
    - Unlike EBS volumes, instance store volumes are directly attached to the physical hardware of the host computer, leading to faster I/O operations but lacking persistence across instance stops and starts.
- **No Extra Cost**
    - They come as part of the instance

#### Instance Stores Use Cases
- Temporary storage of cache and buffers
- Write and discard large amounts of data
- Storage for applications that replicate data across multiple instances

<br>

## Amazon Simple Storage Service (S3): The Bigger Picture
### Amazon S3 (Simple Storage Service) Overview

Amazon S3 (Simple Storage Service) is a scalable, high-speed, web-based cloud storage service designed for online backup and archiving of data and applications on Amazon Web Services (AWS). S3 provides a simple web services interface that can be used to store and retrieve any amount of data, at any time, from anywhere on the web. It offers industry-leading scalability, data availability, security, and performance.

#### Key Features of Amazon S3

1. **Scalability**:
   - S3 automatically scales to handle the growing amount of data without any intervention from the user.

2. **Durability and Availability**:
   - S3 is designed for 99.999999999% (11 9's) durability and 99.99% availability over a given year. Data is redundantly stored across multiple devices in multiple facilities.

3. **Security**:
   - S3 provides comprehensive security and compliance capabilities that meet even the most stringent regulatory requirements. Features include access management via AWS Identity and Access Management (IAM), bucket policies, and Access Control Lists (ACLs).
   - Data can be encrypted at rest and in transit.

4. **Data Management and Analytics**:
   - S3 supports a variety of data analytics tools and services that can analyze data without moving it to a separate analytics platform.
   - You can use S3 Select to retrieve subsets of data from an object by using simple SQL expressions.

5. **Storage Classes**<br>
    https://aws.amazon.com/s3/storage-classes/
   - **S3 Standard**<br>
   General-purpose storage for frequently accessed data.
     - High Throughput (via automatic scaling to handle your storage needs)
     - Low Latency
   - **S3 Intelligent-Tiering**<br>
    Automatically moves data to the most cost-effective access tier without performance impact or operational overhead. Perfect for data with unpredictable access patterns. 
   - **S3 Standard-IA (Infrequent Access)**<br>
   For data that is accessed less frequently but requires rapid access when needed.
   - **S3 One Zone-IA**<br>
   For infrequently accessed data that does not require multiple Availability Zone resilience. It is cost effective, but less durable than multiple zone options. It is sutable for secondary backup, or data that is easily reproducible. 
   - **S3 Glacier Instant Retrieval**<br>
     Key features:
        - Long-lived data that is accessed a few times per year with instant retrievals
        - Data retrieval in milliseconds with the same performance as S3 Standard
        - Designed to deliver 99.9% availability with an availability SLA of 99%
        - 128 KB minimum object size

   - **S3 Glacier Flexible Retrieval (Formerly S3 Glacier)l**<br>
     Key features:
        - Backup and archive data that is rarely accessed and low cost
        - Designed to deliver 99.99% availability with an availability SLA of 99.9%
        - Supports SSL for data in transit and encryption of data at rest
        - Ideal for backup and disaster recovery use cases when large sets of data occasionally need to be retrieved in minutes, without concern for costs
        - Configurable retrieval times, from minutes to hours, with free bulk retrievals

   - **S3 Glacier Deep Archive**: Lowest-cost storage designed for long-term data archiving with retrieval times of 12 hours or more.

1. **Data Transfer and Migration**:
   - AWS provides multiple methods for data transfer into and out of S3, including AWS DataSync, AWS Snowball, and AWS Transfer for SFTP.

2. **Versioning and Lifecycle Policies**:
   - S3 supports versioning to preserve, retrieve, and restore every version of every object stored in an S3 bucket.
   - Lifecycle policies can be configured to manage objects during their lifetime, including transitioning to different storage classes or deleting them after a specified period.

#### Common Use Cases

1. **Backup and Restore**:
   - S3 is used for storing backup copies of data, ensuring high durability and availability.

2. **Data Archiving**:
   - Organizations use S3 for archiving data that is infrequently accessed but must be retained for long periods.

3. **Big Data Analytics**:
   - Data lakes on S3 allow organizations to store vast amounts of raw data in its native format until it is needed for analysis.

4. **Content Storage and Distribution**:
   - S3 is used for storing and delivering static content, such as images, videos, and other media, with integration to Amazon CloudFront for content delivery network (CDN) capabilities.

5. **Disaster Recovery**:
   - Due to its high durability, S3 is an integral part of disaster recovery strategies, storing critical data replicas.

#### How to Get Started with S3

1. **Creating a Bucket**:
   - Buckets are the fundamental containers in S3 where data is stored. You can create a bucket through the AWS Management Console, AWS CLI, or SDKs.

2. **Uploading Data**:
   - Objects (files) can be uploaded to buckets using the AWS Management Console, AWS CLI, SDKs, or directly via HTTP/HTTPS.

3. **Setting Permissions**:
   - Use IAM policies, bucket policies, and ACLs to manage access to your data.

4. **Using Storage Classes**:
   - Choose the appropriate storage class based on your data access patterns and cost requirements.

5. **Configuring Lifecycle Policies**:
   - Define lifecycle rules to transition objects to different storage classes or to expire (delete) them automatically.

### Summary

Amazon S3 is a robust, scalable, and secure object storage service that offers multiple storage classes and a range of features for data management, analytics, and security. It is widely used for backup, archiving, big data analytics, content distribution, and disaster recovery, providing organizations with a flexible and cost-effective solution for managing their data.

<br>

## Introducing Additional Storage Services

**AWS FSx (Amazon FSx)**

Amazon FSx is a fully managed service that provides high-performance file systems in the AWS Cloud. It offers two types of file systems: FSx for Windows File Server and FSx for Lustre, catering to different needs.

### Amazon FSx for Windows File Server

- **Fully Managed**: Automates setup, configuration, and maintenance of Windows file systems.
- **Windows Compatibility**: Supports native Windows features like DFS, user quotas, and ACLs.
- **AD Integration**: Integrates with on-premises or AWS Managed Microsoft AD.
- **High Performance**: Delivers high throughput and IOPS.
- **Scalability**: Supports file systems up to petabytes.
- **Backup**: Includes automated daily backups and user-initiated backups.

### Amazon FSx for Lustre

- **High Performance**: Provides sub-millisecond latencies, millions of IOPS, and high throughput.
- **S3 Integration**: Accesses data stored in Amazon S3.
- **Scalability**: Handles large workloads with thousands of nodes and petabytes of storage.
- **Fully Managed**: Manages provisioning, configuration, and maintenance.
- **Storage Options**: Supports temporary (scratch) and persistent storage.

### Use Cases

- **FSx for Windows File Server**: Home directories, content management, web serving, media workflows, database backups.
- **FSx for Lustre**: HPC, machine learning, big data analytics, media processing, financial simulations.

### Getting Started

1. **Create a File System**: Use the AWS Management Console, CLI, or SDKs.
2. **Configure Access**: Set up VPC, subnets, security groups, and AD integration.
3. **Mount the File System**: Use appropriate mounting commands/tools.
4. **Manage and Monitor**: Utilize Amazon CloudWatch for monitoring and set up backups.

### Summary

Amazon FSx offers fully managed, high-performance file systems tailored for Windows applications and high-performance computing workloads, ensuring scalability, reliability, and integration with other AWS services.

<br>